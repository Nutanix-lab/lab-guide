+++
title = "HelloWorld蓝图"
description = "创建一个最简单的蓝图"
weight = 1
+++

这个lab的目标：

1. 蓝图使用上面的CentOS7的模板镜像
2. 在创建工作流里生成一个包含Hello World字符串的文件/helloworld.txt
3. 这个蓝图可以生成自定义配置的n台虚拟机
4. 运行这个蓝图生成3个虚拟机
5. 使用Stop工作流，poweroff这三个虚拟机
6. 使用Start工作流，poweron这三个虚拟机
7. 使用Delete工作流删除这三个虚拟机实例

操作步骤如下。

点击左侧的第二个蓝图按钮，点击 创建应用蓝图 按钮。
![1621514299958_.pic_hd](/media/15142875527032/1621514299958_.pic_hd.jpg)

选择这个蓝图部署的项目名称，点击处理按钮。
![1631514300004_.pi](/media/15142875527032/1631514300004_.pic.jpg)

点击配置按钮，填写应用配置信息。
![1641514300102_.pic_hd](/media/15142875527032/1641514300102_.pic_hd.jpg)

填写蓝图名称和描述。
![1651514300155_.pic_hd](/media/15142875527032/1651514300155_.pic_hd.jpg)

点击Credentials按钮，输入一个root用户信息，用于登录自动化生成的虚拟机，例如 root / nutanix/4u , 输入完密码后再空白处点击一下，在点击密码框中右侧的眼睛按钮，确认保存的密码。点击 back按钮。
![1661514300259_.pic_hd](/media/15142875527032/1661514300259_.pic_hd.jpg)

点击 Save 按钮保存当前的配置，其实也是检查当前配置信息的正确性，否则保存不会成功。
![1671514300343_.pic_hd](/media/15142875527032/1671514300343_.pic_hd.jpg)

点击右下角的Create按钮，配置创建工作流，输入如图所示的信息。选择的 Image 模板名称是上个步骤里生成的模板。

![1711514300816_.pic_hd](/media/15142875527032/1711514300816_.pic_hd.jpg)

选择该蓝图的这个服务VM的配置信息，包括用于ssh登录的账户信息。
![1721514300858_.pic_hd](/media/15142875527032/1721514300858_.pic_hd.jpg)

点击 save 按钮保存蓝图配置，点击Launch按钮，部署这个蓝图。
![1741514300941_.pic_hd](/media/15142875527032/1741514300941_.pic_hd.jpg)

输入此次应用部署的名称，点击 create 按钮。
![1751514300979_.pic_hd](/media/15142875527032/1751514300979_.pic_hd.jpg)

观察当前这个蓝图部署的状态。
![1761514301013_.pic_hd](/media/15142875527032/1761514301013_.pic_hd.jpg)

点击 Manager ，点击 Create 创建工作流右侧的眼睛按钮，查看当前自动化工作流执行的进度和状态。
![1771514301051_.pic_hd](/media/15142875527032/1771514301051_.pic_hd.jpg)

全部都是绿色表示一切正常。
![1781514305085_.pic_hd](/media/15142875527032/1781514305085_.pic_hd.jpg)

在PC的虚拟机查看控制台刚才的部署生成的vm和它的状态。
![1791514305238_.pic_hd](/media/15142875527032/1791514305238_.pic_hd.jpg)

SSH登录到这个虚拟机，运行下面的命令查看目标的文件是否部署成功。

```
[root@localhost ~]# ls /
bin   etc             lib    mnt   root  srv  usr
boot  helloworld.txt  lib64  opt   run   sys  var
dev   home            media  proc  sbin  tmp
[root@localhost ~]# cat /helloworld.txt
hello world
[root@localhost ~]#


```

{{% alert theme="warning" %}}**以上步骤的验收标准：** 可以登录用户蓝图生成的vm，能看到目标的文件。{{% /alert %}}

